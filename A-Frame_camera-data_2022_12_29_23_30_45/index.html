<!DOCTYPE html>
<html>
  <head>
      <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
		<!-- Let's see if we can get gifs to work... -->
<!--
		<script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-gif-component/master/dist/aframe-gif-component.min.js"></script>
-->

  		<!-- NB defer is crucial here! -->
      <script src="sphereFly.js" defer></script>
      <!-- NB must not defer these scripts, else
            text will not render to HUD -->
      <script src="main.js"></script>
      <script src="loco.js"></script>

  </head>

  <body>
    <a-scene fog="type:linear;color:#0FE;far:220;">
      <!-- Allow assets time to load.-->
      <a-assets timeout="10000">

				<!-- Crossorigin to permit loading images -->
				<img crossorigin="local" id="imgCity" src="eperquerie.png">
				<!-- Load as video for controls? -->
				<img crossorigin="local" id="imgBear" src="bearwalking.gif">
				<img crossorigin="local" id="imgJojo1" src="adventure_jojo.jpg">
				<img crossorigin="local" id="imgJojo2" src="jojo_panda.png">
  		</a-assets>

  
      
      <!-- Blue point light, 5 meters in the air. -->
<a-light type="point" color="white" position="0 5 20"></a-light>
      
      <a-light type="point" color="white" position="0 12 -20"></a-light>
      
      <a-entity id="rig" movement-controls>
			<!-- 360-degree image. Default rad is 10-->
  		<a-sky id="image-360" radius="5" 
				 src="#imgCity"></a-sky>
      <a-entity id="subject" 
                camera
                position="0 1.6 0"
                look-controls  
                locomotion="Engine on!" 
                log-position-data="output:#hud">
    
<!--         <a-entity line="start: -0.02 0 0; end: 0 0 -5; color: green">
          </a-entity> -->
        
        <a-entity
          cursor="fuse: true; fuseTimeout: 2000;"
          raycaster="objects:.clickable;"
          geometry="primitive:box; width:0.2;  height:0.2; depth:0.2;"
          material="color:magenta;"
          position="0 0 -3;"
          animation__fusing="property:rotation; from: 0 0 0; to: 0 0 360; dur: 2000; startEvents: fusing;"
          animation__reset="property:scale; from: 0.7 0.7 0.7; to: 1 1 1; dur: 333; startEvents: mouseleave;"
          ></a-entity>
     
        <a-plane id="hud" 
                 position = "-2 1.5 -3" 
                 rotation = "25 25 0" 
  text="color:yellow; xOffset: 0.5; width:1.9;" 
                 material="color:yellow">
        </a-plane>
      </a-entity> <!-- rig end -->
      </a-entity> <!-- camera end -->

			<a-sphere class="clickable" position="4.2 -5 -5" radius="2" color="#00EEFF" shadow id="mySphere"></a-sphere>
      
      <a-sphere class="clickable" position="-4 3 -9" radius="1" color="rgb(0,255,0)" shadow id="mySphere2"></a-sphere>
			
			<a-box position="0 8 30" scale="10 10 1" material="src: #imgJojo1"></a-box>
			
			<a-box position="8 8 12"
						 rotation="0 90 0"
						 scale="30 20 1" 
						 material="src: #imgJojo2"></a-box>
        
      <a-box position="-1 0.5 -3" rotation="0 45 0" material="src: #imgCity" gif=""></a-box>
			
      <a-sphere class="clickable" position="9 1.25 -5" radius="1.25" color="#00FF00"></a-sphere>
      <a-cylinder class="clickable" position="1 0.75 -7" radius="0.5" height="1.5" color="#0000FF"></a-cylinder>
			<!-- tunnel -->
			<a-torus position="0 4 -5" radius="0.7" height="1.5" color="#DD00DD"></a-torus>
			<a-torus position="0 4 -6" radius="0.7" height="1.5" color="#EE00EE"></a-torus>
			<a-torus position="0 4 -7" radius="0.7" height="1.5" color="#FF00FF"></a-torus>
<!--       <a-plane position="0 0 -4" rotation="-90 0 0" width="42" height="42" color="#7BC8A4"></a-plane> -->
<!--       <a-sky color="#ECECEC"></a-sky> -->
    </a-scene>
  </body>
</html>